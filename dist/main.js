(()=>{"use strict";const e=e=>e||" - ",t=()=>{document.querySelectorAll(".hero").forEach((e=>{e.remove()}))},o=(t,o)=>(t.innerHTML=`<div class="card text-center">\n          <img src="../db/${o.photo}" class="card-img-top" alt="...">\n          <div class="card-body">\n            <h5 class = "card-title">Hero name: <br><br>${e(o.name)}</h5>\n          </div>\n          <ul class="list-group list-group-flush">\n           <li class="list-group-item" style="width: 200%"><strong>Real name:</strong></strong> ${e(o.realName)}</li>\n           <li class="list-group-item" style="width: 200%"><strong>Species:</strong> ${e(o.species)}</li>\n           <li class="list-group-item" style="width: 200%"><strong>Ð¡itizenship:</strong> ${e(o.citizenship)}</li>\n           <li class="list-group-item" style="width: 200%"><strong>Gender:</strong> ${e(o.gender)}</li>\n           <li class="list-group-item" style="width: 200%"><strong>Birth day:</strong> ${e(o.birthDay)}</li>\n           <li class="list-group-item" style="width: 200%"><strong>Death day:</strong> ${e(o.deathDay)}</li>\n           <li class="list-group-item" style="width: 200%"><strong>Status:</strong> ${e(o.status)}</li>\n           <li class="list-group-item" style="width: 200%"><strong>Actors:</strong> ${e(o.actors)}</li>\n           <li class="list-group-item" style="width: 200%"><strong>Movies:</strong> ${(e=>{let t="";if(!e)return" - ";for(let o=0;o<e.length;o++)o<e.length-1&&(t+=e[o]+", <br/>"),o===e.length-1&&(t+=e[o]);return t})(o.movies)}</li>\n          </ul>\n        </div><br/><br/>`,t),s=e=>{(e=>{fetch(e).then((e=>e.json())).then((e=>{(e=>{const s=document.querySelectorAll("#heroes");t(),e.forEach((e=>{let t=document.createElement("div");t.classList.add("hero"),s[0].append(o(t,e))}))})(e),(e=>{const t=document.querySelector(".form-select.actor"),o=document.querySelector(".form-select.films");e.forEach((e=>{let o=document.createElement("option");o.innerHTML=`<option class="actor" value="${e.actors}">${e.actors}</option>`,t.append(o)}));let s=[],l=0;e.forEach((e=>{if(document.createElement("option"),e.movies){l=0;for(let t=0;t<e.movies.length;t++){let o="";o=e.movies[t];for(let e=0;e<s.length;e++)o===s[e]&&l++;0===l&&s.push(o)}}})),s.sort();for(let e=0;e<s.length;e++){let t=document.createElement("option");t.innerHTML=`<option class="actor" value="${s[e]}">${s[e]}</option>`,o.append(t)}})(e)})).catch((e=>console.log(e)))})(e)},l="../db/dbHeroes.json",r=document.querySelector(".form-select.actor"),n=document.querySelector(".form-select.films");s(l),r.addEventListener("input",(e=>{var n,c;0===e.target.selectedIndex?s(l):(n=l,c=r[e.target.selectedIndex].value,fetch(n).then((e=>e.json())).then((e=>{((e,s)=>{const l=document.querySelectorAll("#heroes");document.querySelectorAll(".hero"),t(),e.forEach((e=>{let t=document.createElement("div");t.classList.add("hero"),e.actors===s&&l[0].append(o(t,e))}))})(e,c)})).catch((e=>console.log(e))))})),n.addEventListener("input",(e=>{var r,c;console.log(e.target.selectedIndex),0===e.target.selectedIndex?s(l):(r=l,c=n[e.target.selectedIndex].value,fetch(r).then((e=>e.json())).then((e=>{((e,s)=>{const l=document.querySelectorAll("#heroes");document.querySelectorAll(".hero"),t(),e.forEach((e=>{let t=document.createElement("div");t.classList.add("hero");for(let r=0;r<e.movies.length;r++)e.movies[r]===s&&l[0].append(o(t,e))}))})(e,c)})).catch((e=>console.log(e))))}))})();